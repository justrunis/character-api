<!-- PAGER -->
<div class="d-flex justify-content-center align-items-center">
    <nav aria-label="Page navigation example">
        <ul class="pagination">
            <% if (currentPage > 1) { %>
                <li class="page-item">
                    <a class="page-link" href="/characters?name=<%= locals.query.name %>&sortElement=<%= locals.query.sortElement %>&sortWeapon=<%= locals.query.sortWeapon %>&page=<%= currentPage - 1 %>">Previous</a>
                </li>
            <% } else { %>
                <li class="page-item disabled">
                    <span class="page-link">Previous</span>
                </li>
            <% } %>

            <% if (currentPage > 3) { %>
                <li class="page-item">
                    <a class="page-link" href="/characters?name=<%= locals.query.name %>&sortElement=<%= locals.query.sortElement %>&sortWeapon=<%= locals.query.sortWeapon %>&page=1">First</a>
                </li>
                <li class="page-item disabled">
                    <span class="page-link">..</span>
                </li>
            <% } %>

            <% for (let i = Math.max(1, currentPage - 2); i <= Math.min(currentPage + 2, totalPages); i++) { %>
                <% if (i === currentPage) { %>
                    <li class="page-item active">
                        <a class="page-link" href="/characters?name=<%= locals.query.name %>&sortElement=<%= locals.query.sortElement %>&sortWeapon=<%= locals.query.sortWeapon %>&page=<%= i %>"><%= i %></a>
                    </li>
                <% } else { %>
                    <li class="page-item">
                        <a class="page-link" href="/characters?name=<%= locals.query.name %>&sortElement=<%= locals.query.sortElement %>&sortWeapon=<%= locals.query.sortWeapon %>&page=<%= i %>"><%= i %></a>
                    </li>
                <% } %>
            <% } %>

            <% if (currentPage < totalPages - 2) { %>
                <li class="page-item disabled">
                    <span class="page-link">..</span>
                </li>
                <li class="page-item">
                    <a class="page-link" href="/characters?name=<%= locals.query.name %>&sortElement=<%= locals.query.sortElement %>&sortWeapon=<%= locals.query.sortWeapon %>&page=<%= totalPages %>">Last</a>
                </li>
            <% } %>

            <% if (currentPage < totalPages) { %>
                <li class="page-item">
                    <a class="page-link" href="/characters?name=<%= locals.query.name %>&sortElement=<%= locals.query.sortElement %>&sortWeapon=<%= locals.query.sortWeapon %>&page=<%= currentPage + 1 %>">Next</a>
                </li>
            <% } else { %>
                <li class="page-item disabled">
                    <span class="page-link">Next</span>
                </li>
            <% } %>
        </ul>
        
    </nav>
</div>